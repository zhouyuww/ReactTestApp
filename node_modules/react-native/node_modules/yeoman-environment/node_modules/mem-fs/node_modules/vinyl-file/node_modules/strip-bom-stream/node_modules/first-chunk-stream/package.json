{
  "name": "first-chunk-stream",
  "version": "2.0.0",
  "description": "Transform the first chunk in a stream",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/sindresorhus/first-chunk-stream.git"
  },
  "author": {
    "name": "Sindre Sorhus",
    "email": "sindresorhus@gmail.com",
    "url": "sindresorhus.com"
  },
  "engines": {
    "node": ">=0.10.0"
  },
  "scripts": {
    "test": "xo && mocha",
    "cover": "istanbul cover --report html _mocha -- test.js -R spec -t 5000"
  },
  "files": [
    "index.js"
  ],
  "keywords": [
    "buffer",
    "stream",
    "streams",
    "transform",
    "first",
    "chunk",
    "size",
    "min",
    "minimum"
  ],
  "dependencies": {
    "readable-stream": "^2.0.2"
  },
  "devDependencies": {
    "istanbul": "^0.3.19",
    "mocha": "*",
    "mocha-lcov-reporter": "0.0.2",
    "streamtest": "^1.2.1",
    "xo": "*"
  },
  "readme": "# first-chunk-stream [![Build Status](https://travis-ci.org/sindresorhus/first-chunk-stream.svg?branch=master)](https://travis-ci.org/sindresorhus/first-chunk-stream)\n\n> Buffer and transform the n first bytes of a stream\n\n\n## Install\n\n```\n$ npm install --save first-chunk-stream\n```\n\n\n## Usage\n\n```js\nconst fs = require('fs');\nconst concatStream = require('concat-stream');\nconst firstChunkStream = require('first-chunk-stream');\n\n// unicorn.txt => unicorn rainbow\nfs.createReadStream('unicorn.txt')\n\t.pipe(firstChunkStream({chunkLength: 7}, function (chunk, enc, cb) {\n\t\tthis.push(chunk.toUpperCase());\n\t\tcb();\n\t}))\n\t.pipe(concatStream(function (data) {\n\t\tif (data.length < 7) {\n\t\t\tthrow new Error('Couldn\\'t get the minimum required first chunk length');\n\t\t}\n\n\t\tconsole.log(data);\n\t\t//=> 'UNICORN rainbow'\n\t}));\n```\n\n\n## API\n\n### firstChunkStream([options], transform)\n\nReturns a `FirstChunkStream` instance.\n\n#### options\n\nThe options object is passed to the [`Duplex` stream](https://nodejs.org/api/stream.html#stream_class_stream_duplex) constructor allowing you to customize your stream behavior. In addition you can specify the following option:\n\n##### chunkLength\n\nType: `number`\n\nHow many bytes you want to buffer.\n\n#### transform(chunk, encoding, callback)\n\nType: `function`\n\nThe function that gets the required `options.chunkLength` bytes.\n\nNote that the buffer can have a smaller length than the required one. In that case, it will be due to the fact that the complete stream contents has a length less than the `òptions.chunkLength` value. You should check for this yourself if you strictly depend on the length.\n\n\n## License\n\nMIT © [Sindre Sorhus](http://sindresorhus.com)\n",
  "readmeFilename": "readme.md",
  "bugs": {
    "url": "https://github.com/sindresorhus/first-chunk-stream/issues"
  },
  "homepage": "https://github.com/sindresorhus/first-chunk-stream#readme",
  "_id": "first-chunk-stream@2.0.0",
  "_shasum": "1bdecdb8e083c0664b91945581577a43a9f31d70",
  "_resolved": "https://registry.npmjs.org/first-chunk-stream/-/first-chunk-stream-2.0.0.tgz",
  "_from": "first-chunk-stream@>=2.0.0 <3.0.0"
}
